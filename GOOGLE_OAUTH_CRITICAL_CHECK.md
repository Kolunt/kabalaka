# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ OAuth (401: invalid_client)

## ‚ö†Ô∏è –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console

**–í–ê–ñ–ù–û:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ü–†–ê–í–ò–õ–¨–ù–´–ô –ø—Ä–æ–µ–∫—Ç!

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/
2. –í –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
3. –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π - –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OAuth 2.0 Client ID

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **APIs & Services** ‚Üí **Credentials**
2. –ù–∞–π–¥–∏—Ç–µ OAuth 2.0 Client ID, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `417657561478-...`
3. –ï—Å–ª–∏ –µ–≥–æ –ù–ï–¢ - –∑–Ω–∞—á–∏—Ç –≤—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç!
4. –ï—Å–ª–∏ –æ–Ω –ï–°–¢–¨ - –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - **Client ID** —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º, —á—Ç–æ –≤ `.env`
   - **Client Secret** - –µ—Å–ª–∏ –∑–∞–±—ã–ª–∏, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Client Secret
   - **Authorized redirect URIs** —Å–æ–¥–µ—Ä–∂–∏—Ç:
     ```
     http://localhost:5000/callback/google
     ```
   - ‚ö†Ô∏è **–¢–û–ß–ù–û —Ç–∞–∫–æ–π URI, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤!**

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OAuth Consent Screen

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **APIs & Services** ‚Üí **OAuth consent screen**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - **Publishing status**: Testing (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
   - **Test users** —Å–æ–¥–µ—Ä–∂–∏—Ç: `kolunt@gmail.com`
   - **Scopes** —Å–æ–¥–µ—Ä–∂–∏—Ç: `https://www.googleapis.com/auth/calendar.readonly`

### 4. –°–æ–∑–¥–∞–π—Ç–µ Client Secret –∑–∞–Ω–æ–≤–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤—ã –∑–∞–±—ã–ª–∏ Client Secret:

1. –í Google Cloud Console: **APIs & Services** ‚Üí **Credentials**
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à OAuth 2.0 Client ID
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
4. –í —Ä–∞–∑–¥–µ–ª–µ "Client secret" –Ω–∞–∂–º–∏—Ç–µ **Reset** –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π Client Secret
6. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Google Calendar API

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **APIs & Services** ‚Üí **Library**
2. –ù–∞–π–¥–∏—Ç–µ "Google Calendar API"
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å: **Enabled** (–≤–∫–ª—é—á–µ–Ω)

### 6. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–í `.env` —Ñ–∞–π–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
GOOGLE_CLIENT_ID=417657561478-jvn4uo36124rphjs6srialklji518ht7.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_REDIRECT_URI=http://localhost:5000/callback/google
```

‚ö†Ô∏è **–£–±–µ–¥–∏—Ç–µ—Å—å:**
- –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
- –ù–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫
- –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ

### 7. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

**–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–æ–≤–æ–µ OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**

1. –í Google Cloud Console —Å–æ–∑–¥–∞–π—Ç–µ **–ù–û–í–´–ô** –ø—Ä–æ–µ–∫—Ç
2. –í–∫–ª—é—á–∏—Ç–µ Google Calendar API
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth consent screen
4. –°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 Client ID
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ù–û–í–´–ï** credentials

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python -c "from calendar_google import GoogleCalendar; gc = GoogleCalendar(); print(gc.get_authorization_url())"
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É - –ø—Ä–æ–±–ª–µ–º–∞ –≤ credentials –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Google Cloud Console.

