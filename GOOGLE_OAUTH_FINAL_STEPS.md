# –§–∏–Ω–∞–ª—å–Ω—ã–µ —à–∞–≥–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è 401: invalid_client

## ‚úÖ –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ, –Ω–æ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OAuth Consent Screen —Å—Ç–∞—Ç—É—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **APIs & Services** ‚Üí **OAuth consent screen**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Publishing status**:
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: **Testing** (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
   - –ï—Å–ª–∏ **In production** - —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –Ω–∞ **Testing** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Test users

1. –í OAuth consent screen –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Test users**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–º –µ—Å—Ç—å: `kolunt@gmail.com`
3. –ï—Å–ª–∏ –Ω–µ—Ç - –Ω–∞–∂–º–∏—Ç–µ **Add Users** –∏ –¥–æ–±–∞–≤—å—Ç–µ
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**

### –®–∞–≥ 3: –ü–æ–¥–æ–∂–¥–∏—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—é

–ï—Å–ª–∏ OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ **1-2 –º–∏–Ω—É—Ç—ã** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- Google –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –Ω–æ–≤–æ–≥–æ OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç Google

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –í—ã –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç–µ—Å—å —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ Google –∞–∫–∫–∞—É–Ω—Ç (`kolunt@gmail.com`)
- –ö–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–µ–∫—Ç—É –≤ Google Cloud Console
- –ö–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª–µ–Ω –≤ Test users

### –®–∞–≥ 5: –û—Ç–∫—Ä–æ–π—Ç–µ authorization URL –Ω–∞–ø—Ä—è–º—É—é

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ authorization URL –∏–∑ –≤—ã–≤–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å —Ç–æ—á–Ω—É—é –æ—à–∏–±–∫—É.

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Google Cloud Console

1. –í Google Cloud Console: **APIs & Services** ‚Üí **Credentials**
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à OAuth 2.0 Client ID
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –∏–ª–∏ –æ—à–∏–±–æ–∫

### –®–∞–≥ 7: –°–æ–∑–¥–∞–π—Ç–µ Client Secret –∑–∞–Ω–æ–≤–æ

–ï—Å–ª–∏ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º—É —Å Client Secret:

1. –í Google Cloud Console –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à OAuth 2.0 Client ID
2. –í —Ä–∞–∑–¥–µ–ª–µ "Client secret" –Ω–∞–∂–º–∏—Ç–µ **Reset** –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π Client Secret
4. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª:
   ```
   GOOGLE_CLIENT_SECRET=–Ω–æ–≤—ã–π_client_secret
   ```
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Flask —Å–µ—Ä–≤–µ—Ä

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

–í Google Cloud Console –≤ OAuth 2.0 Client ID:
- **Authorized redirect URIs** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–¢–û–ß–ù–û**:
  ```
  http://localhost:5000/callback/google
  ```
- –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ
- –ë–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –° –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã `http` (–Ω–µ `HTTP`)

### –®–∞–≥ 9: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

1. –°–æ–∑–¥–∞–π—Ç–µ **–ù–û–í–´–ô** –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console
2. –í–∫–ª—é—á–∏—Ç–µ Google Calendar API
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth consent screen —Å –Ω—É–ª—è
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ OAuth 2.0 Client ID
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–µ credentials

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `python debug_oauth_flow.py`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ authorization URL –∏–∑ –≤—ã–≤–æ–¥–∞
3. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–≥–¥–µ –≤—ã –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ Google)
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–æ—á–Ω—É—é –æ—à–∏–±–∫—É, –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Google
5. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –≤ —á–µ–º –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **OAuth consent screen –≤ —Å—Ç–∞—Ç—É—Å–µ "In production"** - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –Ω–∞ "Testing"
2. **Email –Ω–µ –≤ Test users** - –¥–æ–±–∞–≤—å—Ç–µ `kolunt@gmail.com`
3. **Redirect URI —Å –ø—Ä–æ–±–µ–ª–∞–º–∏** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤
4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
5. **OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–æ** - –ø–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã

